{
  "scopeName": "source.sfl",
  "name": "Semi Flow Language",
  "fileTypes": ["sfl"],
  "patterns": [
    {"include": "#comments"},
    {"include": "#keywords"},
    {"include": "#scheduling-rules"},
    {"include": "#strings"},
    {"include": "#numbers"},
    {"include": "#operators"},
    {"include": "#identifiers"}
  ],
  "repository": {
    "comments": {
      "patterns": [
        {
          "name": "comment.line.double-slash.sfl",
          "match": "//.*$"
        },
        {
          "name": "comment.block.sfl",
          "begin": "/\\*",
          "end": "\\*/"
        }
      ]
    },
    "keywords": {
      "patterns": [
        {
          "name": "keyword.control.sfl",
          "match": "\\b(SCHEDULE|MASTER_SCHEDULER|WAFER_SCHEDULER|ROBOT_SCHEDULER|STATION|PROTOCOL|SYSTEM_ARCHITECTURE)\\b"
        },
        {
          "name": "keyword.other.sfl",
          "match": "\\b(CONFIG|DISTRIBUTION|EXECUTION|VERIFY|IMPORT_RULES|APPLY_RULE|FORMULA|WHERE|IN|MOD|RANGE|SELECT|CASE|WHEN|THEN)\\b"
        },
        {
          "name": "constant.language.layer.sfl",
          "match": "\\b(L1|L2|L3|L4|LAYER)\\b"
        }
      ]
    },
    "scheduling-rules": {
      "patterns": [
        {
          "name": "support.constant.rule.pipeline.sfl",
          "match": "\\b(PSR_001|PSR_002|PSR_003)\\b"
        },
        {
          "name": "support.constant.rule.wafer.sfl",
          "match": "\\b(WAR_001|WAR_002)\\b"
        },
        {
          "name": "support.constant.rule.steady.sfl",
          "match": "\\b(SSR_001|SSR_002)\\b"
        },
        {
          "name": "support.constant.rule.validation.sfl",
          "match": "\\b(VR_001|VR_002|VR_003)\\b"
        }
      ]
    },
    "strings": {
      "patterns": [
        {
          "name": "string.quoted.double.sfl",
          "begin": "\"",
          "end": "\"",
          "patterns": [
            {
              "name": "constant.character.escape.sfl",
              "match": "\\\\."
            }
          ]
        }
      ]
    },
    "numbers": {
      "patterns": [
        {
          "name": "constant.numeric.time.sfl",
          "match": "\\b\\d+[smh]\\b"
        },
        {
          "name": "constant.numeric.float.sfl",
          "match": "\\b\\d+\\.\\d+\\b"
        },
        {
          "name": "constant.numeric.integer.sfl",
          "match": "\\b\\d+\\b"
        },
        {
          "name": "constant.numeric.time-reference.sfl",
          "match": "\\bT\\d+\\b"
        }
      ]
    },
    "operators": {
      "patterns": [
        {
          "name": "keyword.operator.comparison.sfl",
          "match": "(==|!=|<=|>=|<|>)"
        },
        {
          "name": "keyword.operator.logical.sfl",
          "match": "(&&|\\|\\||!)"
        },
        {
          "name": "keyword.operator.arithmetic.sfl",
          "match": "(\\+|-|\\*|/|%|MOD)"
        },
        {
          "name": "keyword.operator.assignment.sfl",
          "match": "(::|:|=)"
        },
        {
          "name": "keyword.operator.arrow.sfl",
          "match": "(->|=>|‚Üê)"
        },
        {
          "name": "keyword.operator.range.sfl",
          "match": "\\.\\."
        }
      ]
    },
    "identifiers": {
      "patterns": [
        {
          "name": "entity.name.class.scheduler.sfl",
          "match": "\\b(MSC|WSC|RSC)_\\d{3}\\b"
        },
        {
          "name": "entity.name.class.station.sfl",
          "match": "\\b(LP|POL|CMP|CLN|CLEAN|BUF|BUFFER|WTR|MEASURE)_\\d{3}\\b"
        },
        {
          "name": "variable.other.wafer.sfl",
          "match": "\\bW\\d{3}\\b"
        },
        {
          "name": "entity.name.function.transaction.sfl",
          "match": "\\bTXN_[A-Z0-9_]+\\b"
        },
        {
          "name": "variable.other.slot.sfl",
          "match": "\\bSLOT_\\d+\\b"
        }
      ]
    }
  }
}